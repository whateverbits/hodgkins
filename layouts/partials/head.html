<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{ .Site.Title | default "Hodgkins" }}</title>
<meta name="description" content="{{ with .Site.Params.description }}{{ . }}{{ end }}" />
<meta name="keywords" content="{{ with .Site.Params.keywords }}{{ . }}{{ end }}" />
<meta name="author" content="{{ with .Site.Author.name }}{{ . }}{{ end }}" />

{{/* Bootstrap */}}
{{ $bootstrapCDN := default false (.Site.Params.hodgBootstrapCDN) }}
{{ $bootstrapCDN1 := dict "cdnjs" "https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css" }}
{{ $bootstrapCDN2 := dict "jsdelivr" "https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" }}
{{ $bootstrapCDN3 := dict "unpkg" "https://unpkg.com/bootstrap@5.1.3/dist/css/bootstrap.min.css" }}
{{ $bootstrapCDNS := merge $bootstrapCDN1 $bootstrapCDN2 $bootstrapCDN3 }}

{{ if and ($bootstrapCDN) (index $bootstrapCDNS $bootstrapCDN) }}
  {{ $bootstrap := (index $bootstrapCDNS $bootstrapCDN) }}
  {{ $bootstrapSRI := resources.GetRemote $bootstrap | resources.Fingerprint "sha384" }}
  <link rel="stylesheet"
        href="{{ $bootstrap }}" integrity="{{ $bootstrapSRI.Data.Integrity }}"
        crossorigin="anonymous" referrerpolicy="no-referrer" />
{{ else }}
  {{ $bootstrap := "plugins/bootstrap/bootstrap.min.css" }}
  {{ $bootstrapSRI := resources.Get $bootstrap | resources.Fingerprint "sha384" }}
  <link rel="stylesheet" href="{{ $bootstrap }}" integrity="{{ $bootstrapSRI.Data.Integrity }}" />
{{ end }}

{{/* SCSS */}}
{{ $scssOptions := (dict "targetPath" "css/style.css" "outputStyle" "compressed" "enableSourceMap" false) }}
{{ $scssFonts := resources.Get "scss/_fonts.go.scss" | resources.ExecuteAsTemplate "scss/_fonts.scss" . }}
{{ $scssStyle := resources.Get "scss/style.scss" }}
{{ $style := slice $scssFonts $scssStyle | resources.Concat "scss/style.cat.scss" | toCSS $scssOptions }}
{{ $styleSRI := $style | resources.Fingerprint "sha384" }}
{{ with $style }}
  <link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ $styleSRI.Data.Integrity }}" />
{{ end }}
